client_max_body_size 5M;
error_page 400 404 405 ./error/400.html;
error_page 500 ./error/500.html;

server{
    listen 0.0.0.0:8080;
    server_name mysite0.com;
    error_page 404 ./error/400.html;

    location / {
        root ./html;
        index index.html;
        error_page 404 ./error/404.html;
        methods GET POST;
    }

    location /index {
        root ./html;
        index index.html;
        methods GET POST;
    }
    
    location /upload {
        root ./html;
        index upload.html;
        methods GET POST;
    }

    location /delete {
        root ./;
        methods DELETE;
    }
    
    location/cgi-bin/cal_cgi {
        root ./;
        methods POST;
        cgi_pass ./cgi-bin/cal_cgi;
    }

    location /cgi-bin/upload_cgi{
        root ./;
        methods POST;
        upload_enable on;
        upload_store ./upload2;
        cgi_pass ./cgi-bin/upload_cgi;
    }
    
    location/redirect{
        return 302 http://naver.com;
    }
}

server 
{
    listen 0.0.0.0:8081;
    server_name mysite1.com;

    location / 
    {
        root ./html;
        index index2.html;
        autoindex on;
        methods GET POST;
    }

    location /index {
        root ./html;
        index index.html;
        methods GET;
    }

    location /upload {
        root ./html;
        index upload.html;
        methods GET;
    }
    
    location /delete {
        root ./;
        methods DELETE;
    }

    location /cgi-bin/cal_cgi {
        root ./;
        methods POST;
        cgi_pass ./cgi-bin/cal_cgi;
    }

    location /cgi-bin/upload_cgi {
        root ./;
        methods POST;
        upload_enable on;
        upload_store ./upload;
        cgi_pass ./cgi-bin/upload_cgi;
    }
    
    location /redirect {
        return 302 http://youtube.com;
    }
}
